---
title: "Positive Covid-19 Test Percentages by State"
author: "Taylor"
date: "5/7/2020"
output: github_document
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE)

library(psych)
library(tidyverse)

```

## Loading Covid Tracking Data 

State cumulative testing data called from [Covid Tracking](https://covidtracking.com).  

```{r load.packages.data, echo = F}

CT.url <- "https://raw.githubusercontent.com/COVID19Tracking/covid-tracking-data/master/data/states_current.csv"

states.current <- read_csv(url(CT.url))

```

## Current Positive Test Percentages

Per [Covid Tracking](https://covidtracking.com/api), we have the following variable definitions: 

 * `positive`: total cumulative positive test results in a given state
 * `totalTestResults`: calculated value (positive + negative) of total test results
 
 Code below calculates the cumulative positive percentage of total tests by state and prints table sorted in descending order of positive percentage. 


```{r calc.pct.positive}

# Subset data + calculate pct.positive = pos. tests / total tests

states.current <- select(states.current, state, positive, totalTestResults) %>% 
  mutate(pct.positive = (positive / totalTestResults)*100, 
         pct.positive = round(pct.positive, 1)) %>% 
  arrange(-pct.positive)

# Summary stats

describe(states.current$pct.positive)

# Table sorted in descending value of positive percentage

print(states.current, n = 56)

```

